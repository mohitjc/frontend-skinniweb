"use strict";(self.webpackChunkskinniweb=self.webpackChunkskinniweb||[]).push([[4597,6332,3899,9551,5058],{90443:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(65043),o=a(68513),n=(a(32340),a(68090)),l=a(21386),i=a(73216),r=a(60482),u=a(86213),c=a(41110),d=a(83003),f=a(30064),p=a.n(f),g=a(70579);const h=()=>{var e;const t=(0,d.d4)((e=>e.user)),a="",[f,h]=(0,s.useState)({page:1,count:10,search:""}),[v,A]=(0,s.useState)([]),[m,w]=(0,s.useState)(0),[y,k]=(0,s.useState)(!0),C=(0,i.Zp)(),x=(null===t||void 0===t||null===(e=t.role)||void 0===e||e.name,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(!0);let t={...f,...e};o.A.get(c.default.listApi,t).then((e=>{e.success&&(A(e.data.map((e=>e))),w(e.total)),k(!1)}))}),B=()=>{let e={startDate:"",endDate:"",search:"",status:"",page:1};h({...f,...e}),x({...e})},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=null===t||void 0===t?void 0:t.permissions,s=null===a||void 0===a?void 0:a[e];return"admin"==t.role&&(s=!0),s};return(0,s.useEffect)((()=>{t&&t.loggedIn&&(h({...f,search:a}),x({search:a,page:1}))}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(l.default,{edit:e=>{C(`/${c.default.url}/edit/${e}`)},view:e=>{let t=`/${c.default.url}/detail/${e}`;C(t)},clear:B,sortClass:e=>{let t="fa-sort";return f.key==e&&"asc"==f.sorder?t="fa-sort-up":f.key==e&&"desc"==f.sorder&&(t="fa-sort-down"),"fa "+t},sorting:e=>{let t="asc";f.key==e&&(t="asc"==f.sorder?"desc":"asc");let a=`${e} ${t}`;h({...f,sortBy:a,key:e,sorder:t}),x({sortBy:a,key:e,sorder:t})},isAllow:$,count:e=>{h({...f,count:e}),x({...f,count:e})},pageChange:e=>{h({...f,page:e}),x({page:e})},deleteItem:e=>{p().fire({title:"Are you sure?",text:"Do you want to delete this",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0065FF",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((t=>{t.isConfirmed&&((0,n.A)(!0),o.A.delete(c.default.deleteApi,{id:e}).then((e=>{e.success&&B(),(0,n.A)(!1)})))}))},filters:f,setFilter:h,filter:function(){let e={page:1,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};h({...f,...e}),x({...e})},loaging:y,data:v,total:m,statusChange:e=>{if(!$(`edit${c.default.check}`))return;let t="active";"active"==e.status&&(t="deactive"),p().fire({title:"Are you sure?",text:`Do you want to ${"active"==t?"Activate":"Inactivate"} this Plan?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#0065FF",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((a=>{a.isConfirmed&&((0,n.A)(!0),o.A.put(c.default.statusApi,{id:e.id,status:t}).then((e=>{e.success&&x(),(0,n.A)(!1)})))}))},changestatus:e=>{h({...f,status:e,page:1}),x({status:e,page:1})},exportfun:async()=>{const e=null===t||void 0===t?void 0:t.access_token,a=await(0,u.A)({method:"get",url:`${r.A.api}api/export/excel`,responseType:"blob",body:{token:e}});var s=new Blob([a.data],{type:a.headers["content-type"]});const o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=`${c.default.title}.xlsx`,o.click()},getRolesData:e=>{h({...f,role:e,page:1}),x({role:e,page:1})},uploadFile:e=>{let t=e.target.files,a=null===t||void 0===t?void 0:t.item(0);a&&((0,n.A)(!0),o.A.postFormFileData("user/import-users",{file:a}).then((e=>{e.success,(0,n.A)(!1)})))}})})}}}]);
//# sourceMappingURL=4597.4b7893e3.chunk.js.map