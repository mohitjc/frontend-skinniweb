"use strict";(self.webpackChunkskinniweb=self.webpackChunkskinniweb||[]).push([[4052,6332,3899,9551,5058],{27850:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(65043),r=s(68513),n=(s(32841),s(68090)),o=s(93683),i=s(83003),l=s(70579);const d=()=>{const e=(0,i.d4)((e=>e.user)),[t,s]=(0,a.useState)({page:1,count:10,search:""}),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[f,v]=(0,a.useState)(),g=function(){var e;let t={workspaceId:null===(e=f[0])||void 0===e?void 0:e.id};t.eventType&&(t.event_type=t.eventType),t.sortBy&&(t.sort=t.sortBy.replace(" ",":")),t.startDate&&(t.min_start_time=new Date(t.startDate).toUTCString(),t.max_start_time=new Date(t.endDate).toUTCString()),(0,n.A)(!0);r.A.get("asana/projects",t).then((e=>{null!==e&&void 0!==e&&e.success&&c(e.data),(0,n.A)(!1)}))};return(0,a.useEffect)((()=>{(0,n.A)(!0),r.A.get("asana/workspaces").then((e=>{if((0,n.A)(!1),e.success){var t;let s=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>({...e,id:e.gid})));v(s)}}))}),[]),(0,a.useEffect)((()=>{f&&g()}),[f]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.default,{clear:()=>{let e={startDate:"",endDate:"",platform:"",search:"",status:"",eventType:"",page:1,role:""};s({...t,...e}),g({...e})},sortClass:e=>{let s="fa-sort";return t.key==e&&"asc"==t.sorder?s="fa-sort-up":t.key==e&&"desc"==t.sorder&&(s="fa-sort-down"),"fa "+s},sorting:e=>{let a="asc";t.key==e&&(a="asc"==t.sorder?"desc":"asc");let r=`${e} ${a}`;s({...t,sortBy:r,key:e,sorder:a}),g({sortBy:r,key:e,sorder:a})},isAllow:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=null===e||void 0===e?void 0:e.permissions;return null===s||void 0===s?void 0:s[t]},count:e=>{s({...t,count:e}),g({...t,count:e})},pageChange:e=>{s({...t,page:e}),g({page:e})},filters:t,setFilter:s,filter:function(){let e={page:1,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};s({...t,...e}),g({...e})},loaging:u,data:d,worksapceData:f})})}}}]);
//# sourceMappingURL=4052.6971bb3f.chunk.js.map